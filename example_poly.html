<!doctype html>
<html>
    <head>
        <title>Labels in Leaflet?</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
        <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
        <link rel="stylesheet" href="leaflet-labeler.css" />
        <script src="leaflet-labeler.js"></script>
        <style>
            html, body {
                height: 100%;
                margin: 0;
            }
            #map_div {
                width: 100%;
                height: 100%;
            }            
        </style>
    </head>
    <body>
        <div id="map_div"></div>
        <script>
            // list object properties in html format
            let props = o => {
                let s = '';
                for (let i in o) s += i + ': ' + o[i] + '<br/>';
                return s;
            }

            // create map object
            const map = L.map('map_div').fitBounds([[45.5, 16], [48.5, 23]]);
            
            // add OSM tile layer
			const osm = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
                      attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
                  }).addTo(map);
			
            // fetch geojson data and create a layer with labels
            fetch('hu_megyek.geojson').then(r => r.json()).then(d => {
                // new layer stored in global variable to make debugging easier
                window.ll = L.labeler(d, {
                    labelProp: 'Nev', 
                    labelPos: 'cc', 
                    priorityProp: 'Nepesseg'
                }).addTo(map).bindPopup(l => props(l.feature.properties));
            });
        </script>
    </body>
</html>